(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{269:function(t,e,o){var content=o(311);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("9254e5a0",content,!0,{sourceMap:!1})},270:function(t,e,o){var content=o(313);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("80aaf7c8",content,!0,{sourceMap:!1})},271:function(t,e,o){var content=o(315);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("5cb284f2",content,!0,{sourceMap:!1})},272:function(t,e,o){var content=o(317);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("e667d550",content,!0,{sourceMap:!1})},273:function(t,e,o){var content=o(319);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("429bb3c1",content,!0,{sourceMap:!1})},310:function(t,e,o){"use strict";var n=o(269);o.n(n).a},311:function(t,e,o){(t.exports=o(19)(!1)).push([t.i,"section{color:#fff}#__layout,#__nuxt{height:100%}.link{color:#ef3054}.nuxt-link-active{opacity:.8}.button{border-radius:12px}#btn{border-color:transparent;box-shadow:none}#btn,#btn:hover{color:#fff}#input{border-color:transparent;box-shadow:none;padding:20px}.button:hover{opacity:.8;color:#fff}.song-card{background-color:#fff;color:#ef3054;margin:12px;border-radius:20px;display:flex;width:auto;flex-direction:row}.song-title{padding:20px;width:100%;font-size:1.5em}.song-artist{color:#1e1e24}.input-searchbar{border-top-left-radius:20px;border-top-right-radius:20px;padding-left:24px}.search-button{border-top-right-radius:4px;border-bottom-right-radius:20px;padding:20px;margin-right:100px}.search-control{width:100%;margin-left:100px}.autocomplete-results{border-bottom-left-radius:20px;border-bottom-right-radius:20px;padding:0;margin:0;border:1px solid #eee;height:120px;overflow:auto;position:absolute;width:100%}@media only screen and (max-width:1087px){.search-button,.search-control{margin:0}.song-title{font-size:1.25em}}.autocomplete{text-align:center}.autocomplete-result{list-style:none;text-align:left;padding:4px 2px;cursor:pointer}.autocomplete-result:hover,.search-button{background-color:#ef3054;color:#fff}.search-button{font-weight:700}.search-button:hover{opacity:.75}.autocomplete-result.is-active,.autocomplete-result:hover{background-color:#ef3054;color:#fff}",""])},312:function(t,e,o){"use strict";var n=o(270);o.n(n).a},313:function(t,e,o){(t.exports=o(19)(!1)).push([t.i,"section{color:#fff}#__layout,#__nuxt{height:100%}.link{color:#ef3054}.nuxt-link-active{opacity:.8}.button{border-radius:12px}#btn{border-color:transparent;box-shadow:none}#btn,#btn:hover{color:#fff}#input{border-color:transparent;box-shadow:none;padding:20px}.button:hover{opacity:.8;color:#fff}.song-card{background-color:#fff;color:#ef3054;margin:12px;border-radius:20px;display:flex;width:auto;flex-direction:row}.song-title{padding:20px;width:100%;font-size:1.5em}.song-artist{color:#1e1e24}.input-searchbar{border-top-left-radius:20px;border-top-right-radius:20px;padding-left:24px}.search-button{border-top-right-radius:4px;border-bottom-right-radius:20px;padding:20px;margin-right:100px}.search-control{width:100%;margin-left:100px}.autocomplete-results{border-bottom-left-radius:20px;border-bottom-right-radius:20px;padding:0;margin:0;border:1px solid #eee;height:120px;overflow:auto;position:absolute;width:100%}@media only screen and (max-width:1087px){.search-button,.search-control{margin:0}.song-title{font-size:1.25em}}.delete-song{border-top-right-radius:20px;border-bottom-right-radius:20px;background-color:#ef3054;color:#fff;font-size:1em;padding:40px 20px}.delete-song:hover{cursor:pointer;opacity:.75}@media only screen and (max-width:1087px){.delete-song{font-size:.9em;padding:45px 8px}}",""])},314:function(t,e,o){"use strict";var n=o(271);o.n(n).a},315:function(t,e,o){(t.exports=o(19)(!1)).push([t.i,"section{color:#fff}#__layout,#__nuxt{height:100%}.link{color:#ef3054}.nuxt-link-active{opacity:.8}.button{border-radius:12px}#btn{border-color:transparent;box-shadow:none}#btn,#btn:hover{color:#fff}#input{border-color:transparent;box-shadow:none;padding:20px}.button:hover{opacity:.8;color:#fff}.song-card{background-color:#fff;color:#ef3054;margin:12px;border-radius:20px;display:flex;width:auto;flex-direction:row}.song-title{padding:20px;width:100%;font-size:1.5em}.song-artist{color:#1e1e24}.input-searchbar{border-top-left-radius:20px;border-top-right-radius:20px;padding-left:24px}.search-button{border-top-right-radius:4px;border-bottom-right-radius:20px;padding:20px;margin-right:100px}.search-control{width:100%;margin-left:100px}.autocomplete-results{border-bottom-left-radius:20px;border-bottom-right-radius:20px;padding:0;margin:0;border:1px solid #eee;height:120px;overflow:auto;position:absolute;width:100%}@media only screen and (max-width:1087px){.search-button,.search-control{margin:0}.song-title{font-size:1.25em}}.spinner{width:40px;height:40px;margin:100px auto;background-color:#ef3054;border-radius:100%;-webkit-animation:sk-scaleout 1s ease-in-out infinite;animation:sk-scaleout 1s ease-in-out infinite}@-webkit-keyframes sk-scaleout{0%{-webkit-transform:scale(0)}to{-webkit-transform:scale(1);opacity:0}}@keyframes sk-scaleout{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}",""])},316:function(t,e,o){"use strict";var n=o(272);o.n(n).a},317:function(t,e,o){(t.exports=o(19)(!1)).push([t.i,".songs-title{color:#fff}.not-found,.songs-title{margin-top:140px;font-size:2em}.not-found{text-align:center}",""])},318:function(t,e,o){"use strict";var n=o(273);o.n(n).a},319:function(t,e,o){(t.exports=o(19)(!1)).push([t.i,"section{color:#fff}#__layout,#__nuxt{height:100%}.link{color:#ef3054}.nuxt-link-active{opacity:.8}.button{border-radius:12px}#btn{border-color:transparent;box-shadow:none}#btn,#btn:hover{color:#fff}#input{border-color:transparent;box-shadow:none;padding:20px}.button:hover{opacity:.8;color:#fff}.song-card{background-color:#fff;color:#ef3054;margin:12px;border-radius:20px;display:flex;width:auto;flex-direction:row}.song-title{padding:20px;width:100%;font-size:1.5em}.song-artist{color:#1e1e24}.input-searchbar{border-top-left-radius:20px;border-top-right-radius:20px;padding-left:24px}.search-button{border-top-right-radius:4px;border-bottom-right-radius:20px;padding:20px;margin-right:100px}.search-control{width:100%;margin-left:100px}.autocomplete-results{border-bottom-left-radius:20px;border-bottom-right-radius:20px;padding:0;margin:0;border:1px solid #eee;height:120px;overflow:auto;position:absolute;width:100%}@media only screen and (max-width:1087px){.search-button,.search-control{margin:0}.song-title{font-size:1.25em}}.songs-section{padding:50px 400px}@media only screen and (max-width:1280px){.songs-section{padding:50px 200px}}@media only screen and (max-width:1087px){.songs-section{padding:50px 100px}}@media only screen and (max-width:769px){.songs-section{padding:25px 50px}}@media only screen and (max-width:480px){.songs-section{padding:25px}}",""])},327:function(t,e,o){"use strict";o.r(e);var n=o(291),r=o.n(n),c=(o(143),o(145),o(49),{props:{items:{type:Array,required:!1,default:function(){return[]}},isAsync:{type:Boolean,required:!1,default:!1}},data:function(){return{search:{},results:[],isOpen:!1,isLoading:!1,arrowCounter:-1}},watch:{items:function(t,e){this.isAsync&&(this.results=t,this.isOpen=!0,this.isLoading=!1)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)},methods:{onChange:function(){this.$emit("input",this.search.name),this.isAsync?this.isLoading=!0:(this.filterResults(),this.isOpen=!0),0===this.search.name.length&&(this.isLoading=!1,this.isOpen=!1)},filterResults:function(){var t=this;this.results=this.items.filter(function(e){return e.name.toLowerCase().indexOf(t.search.toLowerCase())>-1})},setResult:function(t){this.search=t,this.isOpen=!1},onArrowDown:function(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){var t=this;this.search.name&&(0===this.results.length&&this.isOpen?this.isOpen=!1:(-1===this.arrowCounter?(this.search=this.results.find(function(e){return e.name===t.search.name}),this.search||(this.search={})):this.search=this.results[this.arrowCounter],this.isOpen=!1,this.arrowCounter=-1,this.$emit("select",this.search),this.search={}))},handleClickOutside:function(t){this.$el.contains(t.target)||(this.isOpen=!1,this.arrowCounter=-1)},handleSongSelection:function(){this.$emit("select",this.search),this.isOpen=!1,this.search={}}}}),l=(o(310),o(11)),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"autocomplete"},[o("div",{staticClass:"field has-addons"},[o("div",{staticClass:"control search-control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search.name,expression:"search.name"}],staticClass:"input input-searchbar",attrs:{id:"input",placeholder:"Search for a song",type:"text"},domProps:{value:t.search.name},on:{input:[function(e){e.target.composing||t.$set(t.search,"name",e.target.value)},t.onChange],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrowDown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrowUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}]}}),t._v(" "),o("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},[t.isLoading?o("li",{staticClass:"loading"},[t._v("\n          Loading results...\n        ")]):t._l(t.results,function(e,i){return o("li",{key:i,staticClass:"autocomplete-result",class:{"is-active":i===t.arrowCounter},on:{click:function(o){return t.setResult(e)}}},[t._v("\n          "+t._s(e.name)+" - "+t._s(e.artist)+"\n        ")])})],2)]),t._v(" "),o("div",{staticClass:"control"},[o("a",{staticClass:"button search-button",on:{click:t.handleSongSelection}},[t._v("\n        +\n      ")])])])])},[],!1,null,null,null).exports,h={props:{song:{default:function(){},type:Object}},data:function(){return{displayDelete:!1}},methods:{deleteSong:function(){this.$store.dispatch("songs/deleteSong",this.song)}}},f=(o(312),Object(l.a)(h,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"song-card",on:{mouseover:function(e){t.displayDelete=!0},mouseleave:function(e){t.displayDelete=!1}}},[o("h1",{staticClass:"song-title"},[t._v("\n    "+t._s(t.song.name)+"\n    "),o("h2",{staticClass:"song-artist"},[t._v("\n      "+t._s(t.song.artist)+"\n    ")])]),t._v(" "),t.displayDelete?o("div",{staticClass:"delete-song",on:{click:t.deleteSong}},[t._v("\n    Delete\n  ")]):t._e()])},[],!1,null,null,null).exports),x=(o(314),{components:{Song:f,Spinner:Object(l.a)({},function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"spinner"})},[],!1,null,null,null).exports},props:{songs:{default:function(){return[]},type:Array}}}),m=(o(316),{middleware:"auth",components:{SearchBar:d,SongList:Object(l.a)(x,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[this.$store.state.songs.songs.length>0?o("div",[o("h1",{staticClass:"songs-title"},[t._v("\n      My songs\n    ")]),t._v(" "),t._l(t.songs,function(t){return o("div",{key:t.name},[o("song",{attrs:{song:t}})],1)})],2):this.$store.state.songs.isLoading?t._e():o("div",{staticClass:"not-found"},[t._v("\n    No songs found, you can add them using the search bar above.\n  ")]),t._v(" "),this.$store.state.songs.isLoading?o("spinner"):t._e()],1)},[],!1,null,null,null).exports},data:function(){return{data:[]}},beforeCreate:function(){this.$store.dispatch("songs/getSongs",this.$store.getters["auth/getUser"])},methods:{userInput:function(input){var t=this;input.length>0&&r.a.get("https://ws.audioscrobbler.com/2.0/?method=track.search&track=".concat(input,"&api_key=db88a0670af42e11576ad65143a23914&format=json")).then(function(e){t.data=e.data.results.trackmatches.track}).catch(function(e){t.$store.commit("notification/setNotification",{message:e,type:"is-danger"},{root:!0})})},songSelected:function(t){this.$store.dispatch("songs/addSong",t)}}}),w=(o(318),Object(l.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"section songs-section"},[e("search-bar",{attrs:{"is-async":!0,items:this.data},on:{input:this.userInput,select:this.songSelected}}),this._v(" "),e("song-list",{attrs:{songs:this.$store.state.songs.songs}})],1)},[],!1,null,null,null));e.default=w.exports}}]);